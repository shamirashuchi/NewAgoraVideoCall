(()=>{function e(t,o,n){return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,o){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return o&&a(r,o.prototype),r},e.apply(null,arguments)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,a){return e.__proto__=a,e},a(e,t)}$(document).ready((function(){"use strict";$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var a=function(e){window.showAlert("alert-danger",e)},t=function(e){window.showAlert("alert-success",e)},o=function(e){void 0!==e.errors&&e.errors.length?n(e.errors):void 0!==e.responseJSON?void 0!==e.responseJSON.errors?422===e.status&&n(e.responseJSON.errors):void 0!==e.responseJSON.message?a(e.responseJSON.message):$.each(e.responseJSON,(function(e,t){$.each(t,(function(e,t){a(t)}))})):a(e.statusText)},n=function(e){var t="";$.each(e,(function(e,a){""!==t&&(t+="<br />"),t+=a})),a(t)};window.showAlert=function(e,a){if(e&&""!==a){var t=Math.floor(1e3*Math.random()),o='<div class="alert '.concat(e,' alert-dismissible" id="').concat(t,'">\n                            <span class="close mdi mdi-close-box" data-dismiss="alert" aria-label="close"></span>\n                            <i class="')+("alert-success"===e?"mdi mdi-check":"mdi mdi-close")+' message-icon"></i>\n                            '.concat(a,"\n                        </div>");$("#alert-container").append(o).ready((function(){window.setTimeout((function(){$("#alert-container #".concat(t)).remove()}),6e3)}))}},$(".newsletter-form button[type=submit]").on("click",(function(e){e.preventDefault(),e.stopPropagation();var n=$(this);$.ajax({type:"POST",cache:!1,url:n.closest("form").prop("action"),data:new FormData(n.closest("form")[0]),contentType:!1,processData:!1,beforeSend:function(){n.addClass("button-loading")},success:function(e){e.error?a(e.message):(n.closest("form").find("input[type=email]").val(""),t(e.message))},error:function(e){o(e)},complete:function(){"undefined"!=typeof refreshRecaptcha&&refreshRecaptcha(),n.removeClass("button-loading")}})}));var r=$(".loading-ring");function i(e){var a=$("input[name=company_id]").val();$(".half-circle-spinner").toggle(),$(".spinner-overflow").toggle(),$.ajax({url:"/review/load-more?page=".concat(e,"&company_id=").concat(a),success:function(e){$(".review-list").html(e),$(".half-circle-spinner").toggle(),$(".spinner-overflow").toggle()}})}r.hide(),$(document).on("click",".company-review-form button[type=submit]",(function(e){e.preventDefault(),e.stopPropagation();var n=$(this);$.ajax({type:"POST",cache:!1,url:n.closest("form").prop("action"),data:new FormData(n.closest("form")[0]),contentType:!1,processData:!1,beforeSend:function(){n.addClass("button-loading")},success:function(e){e.error?a(e.message):(n.closest("form").find("textarea").val(""),n.closest("form").find("textarea").attr("disabled",!0),n.attr("disabled",!0),t(e.message),i($(".review-pagination").data("review-last-page")))},error:function(e){o(e)},complete:function(){"undefined"!=typeof refreshRecaptcha&&refreshRecaptcha(),n.removeClass("button-loading")}})})),$((function(){window.jobBoardMaps={};var n=$(".job-board-street-map");n.length&&n.each((function(e,a){!function(e){var a=e.data("uid");a||(a=(Math.random()+1).toString(36).substring(7)+(new Date).getTime(),e.data("uid",a)),jobBoardMaps[a]&&(jobBoardMaps[a].off(),jobBoardMaps[a].remove()),jobBoardMaps[a]=L.map(e[0],{zoomControl:!1,scrollWheelZoom:!0,dragging:!0,maxZoom:e.data("max-zoom")||20}).setView(e.data("center"),e.data("zoom")||14);var t=L.divIcon({className:"boxmarker",iconSize:L.point(50,20),html:e.data("map-icon")});L.tileLayer(e.data("tile-layer")?e.data("tile-layer"):"https://mt0.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}").addTo(jobBoardMaps[a]),L.marker(e.data("center"),{icon:t}).addTo(jobBoardMaps[a]).bindPopup($(e.data("popup-id")).html()).openPopup()}($(a))})),$(document).on("click",".job-bookmark-action",(function(e){e.preventDefault();var n=$(e.currentTarget),r=$(".job-bookmark-saved");$.ajax({type:n.prop("method")||"POST",url:n.prop("href"),data:{job_id:n.data("job-id")},beforeSend:function(){n.addClass("loading")},success:function(e){if(e.error)return a(e.message),!1;t(e.message),e.data.is_saved?r.length?r.addClass("save-job-active"):n.closest(".favorite-icon").parent().addClass("save-job-active"):r.length?r.removeClass("save-job-active"):n.closest(".favorite-icon").parent().removeClass("save-job-active")},error:function(e){401===e.status?$("#signupModal").modal("show"):o(e)},complete:function(){n.removeClass("loading")}})}));var r={};r.$formSearch=$("#jobs-filter-form"),r.jobListing=".jobs-listing",r.$jobListing=$(r.jobListing),r.parseParamsSearch=function(e){for(var a,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e||window.location.search.substring(1),n=/([^&=]+)=?([^&]*)/g,r=/\+/g,i=function(e){return decodeURIComponent(e.replace(r," "))},s={};a=n.exec(o);){var c=i(a[1]),l=i(a[2]);"[]"==c.substring(c.length-2)?(t&&(c=c.substring(0,c.length-2)),(s[c]||(s[c]=[])).push(l)):s[c]=l}return s},r.changeInputInSearchForm=function(e){r.$formSearch.find("input, select, textarea").each((function(a,t){r.changeInputInSearchFormDetail($(t),e)})),$(":input[form=jobs-filter-form]").each((function(a,t){r.changeInputInSearchFormDetail($(t),e)}))},r.changeInputInSearchFormDetail=function(e,a){var t=a[e.attr("name")]||null;switch(e.attr("type")){case"checkbox":case"radio":e.prop("checked",!1),Array.isArray(t)?e.prop("checked",t.includes(e.val())):e.prop("checked",!!t);break;default:e.is("[name=max_price]")?e.val(t||e.data("max")):e.is("[name=min_price]")?e.val(t||e.data("min")):e.val()!=t&&e.val(t)}},r.convertFromDataToArray=function(e){var a=[];return e.forEach((function(e){if(e.value){if(["min_price","max_price"].includes(e.name))if(r.$formSearch.find("input[name="+e.name+"]").data(e.name.substring(0,3))==parseInt(e.value))return;a.push(e)}})),a},r.jobsFilter=function(){var e=null;$(document).on("submit","#jobs-filter-form",(function(t){t.preventDefault(),e&&e.abort();var n=$(t.currentTarget),i=n.serializeArray(),s=r.convertFromDataToArray(i),c=[],l=window.location,d=l.origin+l.pathname;$.urlParam=function(e){var a=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.search);return null!==a&&(a[1]||0)},$.urlParam("limit")&&s.push({name:"limit",value:parseInt($.urlParam("limit"))});var u=r.$jobListing.find("input[name=page]");u.val()&&s.push({name:"page",value:u.val()}),s.map((function(e){"offered_salary_to"===e.name&&(e.value=Number(e.value.replace(/[^0-9.-]+/g,""))),c.push(encodeURIComponent(e.name)+"="+e.value)})),c&&c.length&&(d+="?"+c.join("&")),s.push({name:"_",value:+new Date}),e=$.ajax({url:n.attr("action"),type:"GET",data:s,beforeSend:function(){$("#loading").css("display","block"),$(".job-items").css("opacity",.2)},success:function(e){var t;0==e.error?(r.$jobListing.html(e.data),null!==(t=e.additional)&&void 0!==t&&t.message&&r.$jobListing.closest(".jobs-listing-container").find(".showing-of-results").html(e.additional.message),r.executeMap(),d!==window.location.href&&window.history.pushState(s,e.message,d)):a(e.message||"Opp!")},error:function(e){"abort"!==e.statusText&&o(e)},complete:function(){setTimeout((function(){$("#loading").css("display","none"),$(".loading-ring").hide(),$(".job-items").css("opacity",1)}),500)}})})),window.addEventListener("popstate",(function(){window.location.reload()}),!1),$(document).on("click",r.jobListing+" .pagination a",(function(e){e.preventDefault();var a=$(e.currentTarget).attr("href");a.includes(window.location.protocol)||(a=window.location.protocol+a);var t=new URL(a).searchParams.get("page");r.$jobListing.find("input[name=page]").val(t),r.$formSearch.trigger("submit")}))},r.jobsFilter(),$("body").on("change, click",".submit-form-filter",(function(e){r.$formSearch.find('input[name="page"]').val(1),s(e)})),String.prototype.interpolate=function(a){var t=Object.keys(a),o=Object.values(a);return e(Function,t.concat(["return `".concat(this,"`;")])).apply(void 0,o)};var i=$("#traffic-popup-map-template").html();r.initMaps=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.length)return!1;var t=e.data("center")||[],o=$(".jobs-listing .job-box[data-latitude][data-longitude]"),n=o.filter((function(){return $(this).data("latitude")&&$(this).data("longitude")}));n&&n.length&&(t=[n.data("latitude"),n.data("longitude")]);var r,s=e.data("uid");s||(s=(Math.random()+1).toString(36).substring(7)+(new Date).getTime(),e.data("uid",s)),window.jobBoardMaps&&window.jobBoardMaps[s]&&(a?(window.jobBoardMaps[s].off(),window.jobBoardMaps[s].remove()):(r=window.jobBoardMaps[s]).eachLayer((function(e){e.remove()})));var c=[];if(o.map((function(e,a){var t=$(a);c.push(t.data())})),!r){var l=e.data("zoom")||14;c.length||(l=e.data("zoom-empty")||12),r=L.map(e[0],{zoomControl:!0,scrollWheelZoom:!0,dragging:!0,maxZoom:e.data("max-zoom")||20}).setView(t,l)}L.tileLayer(e.data("tile-layer")?e.data("tile-layer"):"https://mt0.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}").addTo(r);var d=new L.MarkerClusterGroup,u=[];c.forEach((function(e){if(e.latitude&&e.longitude){var a=L.divIcon({className:"boxmarker",iconSize:L.point(50,20),html:e.map_icon}),t=i.interpolate({item:e}),o=new L.Marker(new L.LatLng(e.latitude,e.longitude),{icon:a}).bindPopup(t).addTo(r);u.push(o),d.addLayer(o),r.flyToBounds(L.latLngBounds(u.map((function(e){return e.getLatLng()}))))}})),r.addLayer(d),e.addClass("active"),window.jobBoardMaps[s]=r},$(".jobs-list-sidebar").length&&($(".jobs-list-sidebar").is(":visible")&&r.initMaps($(".jobs-list-sidebar").find(".jobs-list-map")),$(window).on("resize",(function(){$(".jobs-list-sidebar").is(":visible")&&r.initMaps($(".jobs-list-sidebar").find(".jobs-list-map"))}))),r.setCookie=function(e,a,t){var o=new Date,n=window.siteUrl;n.includes(window.location.protocol)||(n=window.location.protocol+n);var r=new URL(n);o.setTime(o.getTime()+24*t*60*60*1e3);var i="expires="+o.toUTCString();document.cookie=e+"="+a+"; "+i+"; path=/; domain="+r.hostname},r.executeMap=function(){var e=$(".jobs-list-sidebar").find(".jobs-list-map");e.length&&(r.initMaps(e),r.setCookie("show_map_on_jobs_page",1,60))},$("#offcanvas-jobs-map").on("show.bs.offcanvas",(function(e){$('[data-bs-target="#offcanvas-jobs-map"]').addClass("active");var a=$(e.currentTarget).find(".jobs-list-map");a.hasClass("active")||r.initMaps(a)})).on("hide.bs.offcanvas",(function(){$('[data-bs-target="#offcanvas-jobs-map"]').removeClass("active")}))})),$(document).on("click",".review-pagination a",(function(e){e.preventDefault(),i($(this).attr("href").split("page=")[1])})),$(document).on("click",".layout-job",(function(e){e.preventDefault(),$("#jobs-filter-form > input[name=layout]").val($(this).data("layout")),$("#jobs-filter-form").submit()})),$(document).on("click",".per-page-item",(function(e){e.preventDefault(),$("#jobs-filter-form input[name=per_page]").val($(this).data("perPage")),$("#jobs-filter-form").submit()})),$(document).on("click",".dropdown-sort-by",(function(e){e.preventDefault(),$("#jobs-filter-form input[name=sort_by]").val($(this).data("sortBy")),$("#jobs-filter-form").submit()})),$(document).on("click",".pagination-button",(function(e){e.preventDefault(),$("#jobs-filter-form input[name=page]").val($(this).data("page")),$("#jobs-filter-form").submit(),$("#form-page-categories input[name=page]").val($(this).data("page")),$("#form-page-categories").submit()})),$(document).ready((function(){$("#selectCity").on("change",(function(e){s(e)})),$(".noUi-handle").on("click",(function(){$(this).width(50)}));var e=$("#slider-range");e.length>0&&e[0].noUiSlider.on("change",(function(e,a,t){setTimeout((function(){s(t,$("#minValueMoney"))}),1e3)}))}));var s=function(e){var a="";(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)?a=$("#minValueMoney"):e&&(a=$(e.currentTarget));var t=a.closest("form");!t.length&&a.prop("form")&&(t=$(a.prop("form"))),t.length&&t.trigger("submit")},c=$("#ModalApplyJobForm");c.on("show.bs.modal",(function(e){var a=$(e.relatedTarget),t=a.data("job-name"),o=a.data("job-id");c.find(".modal-job-name").text(t),c.find(".modal-job-id").val(o)})),c.on("hide.bs.modal",(function(){c.find(".modal-job-name").text(""),c.find(".modal-job-id").val("")}));var l=$("#ModalApplyExternalJobForm");l.on("show.bs.modal",(function(e){var a=$(e.relatedTarget),t=a.data("job-name"),o=a.data("job-id");l.find(".modal-job-name").text(t),l.find(".modal-job-id").val(o)})),l.on("hide.bs.modal",(function(){l.find(".modal-job-name").text(""),l.find(".modal-job-id").val("")})),$(document).on("submit",".job-apply-form",(function(e){e.preventDefault();var o=$(e.currentTarget),n=o.find("button[type=submit]");$.ajax({type:"POST",cache:!1,url:o.prop("action"),data:new FormData(o[0]),contentType:!1,processData:!1,beforeSend:function(){n.prop("disabled",!0).addClass("button-loading")},success:function(e){e.error?a(e.message):(t(e.message),setTimeout((function(){e.data&&e.data.url?window.location.replace(e.data.url):window.location.reload()}),1e3))},error:function(e){a(e.responseJSON.message)},complete:function(){"undefined"!=typeof refreshRecaptcha&&refreshRecaptcha(),n.prop("disabled",!1).removeClass("button-loading")}})})),$(".job-of-the-day").on("click",".category-item",(function(e){e.preventDefault();var a=$(this).data("url"),t=$(this);$.ajax({url:a,type:"GET",data:{style:$(this).data("style")},dataType:"json",beforeSend:function(){r.show()},success:function(e){e.error||($(".job-of-the-day .category-item").removeClass("active"),t.addClass("active"),$(".job-of-the-day-list").html(e.data))},error:function(e){"abort"!==e.statusText&&o(e)},complete:function(){setTimeout((function(){$(".loading-ring").hide()}),500)}})}));var d=$(".company-detail-job-list .rating");d.length&&d.barrating({theme:"css-stars"}),jQuery().mCustomScrollbar&&$(".ps-custom-scrollbar").mCustomScrollbar({theme:"dark",scrollInertia:0}),$(document).on("change","#cover_image",(function(e){var a=$(".cover_image_preview");a.attr("src",URL.createObjectURL(e.target.files[0])),a.show()}))}))})();