(()=>{function e(a,o,n){return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,a,o){var n=[null];n.push.apply(n,a);var r=new(Function.bind.apply(e,n));return o&&t(r,o.prototype),r},e.apply(null,arguments)}function t(e,a){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t(e,a)}$(document).ready((function(){"use strict";$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var t=function(e){window.showAlert("alert-danger",e)},a=function(e){window.showAlert("alert-success",e)},o=function(e){void 0!==e.errors&&e.errors.length?n(e.errors):void 0!==e.responseJSON?void 0!==e.responseJSON.errors?422===e.status&&n(e.responseJSON.errors):void 0!==e.responseJSON.message?t(e.responseJSON.message):$.each(e.responseJSON,(function(e,a){$.each(a,(function(e,a){t(a)}))})):t(e.statusText)},n=function(e){var a="";$.each(e,(function(e,t){""!==a&&(a+="<br />"),a+=t})),t(a)};window.showAlert=function(e,t){if(e&&""!==t){var a=Math.floor(1e3*Math.random()),o='<div class="alert '.concat(e,' alert-dismissible" id="').concat(a,'">\n                            <span class="close mdi mdi-close-box" data-dismiss="alert" aria-label="close"></span>\n                            <i class="')+("alert-success"===e?"mdi mdi-check":"mdi mdi-close")+' message-icon"></i>\n                            '.concat(t,"\n                        </div>");$("#alert-container").append(o).ready((function(){window.setTimeout((function(){$("#alert-container #".concat(a)).remove()}),6e3)}))}},$(".newsletter-form button[type=submit]").on("click",(function(e){e.preventDefault(),e.stopPropagation();var n=$(this);$.ajax({type:"POST",cache:!1,url:n.closest("form").prop("action"),data:new FormData(n.closest("form")[0]),contentType:!1,processData:!1,beforeSend:function(){n.addClass("button-loading")},success:function(e){e.error?t(e.message):(n.closest("form").find("input[type=email]").val(""),a(e.message))},error:function(e){o(e)},complete:function(){"undefined"!=typeof refreshRecaptcha&&refreshRecaptcha(),n.removeClass("button-loading")}})}));var r=$(".loading-ring");function i(e){var t=$("input[name=company_id]").val();$(".half-circle-spinner").toggle(),$(".spinner-overflow").toggle(),$.ajax({url:"/review/load-more?page=".concat(e,"&company_id=").concat(t),success:function(e){$(".review-list").html(e),$(".half-circle-spinner").toggle(),$(".spinner-overflow").toggle()}})}r.hide(),$(document).on("click",".company-review-form button[type=submit]",(function(e){e.preventDefault(),e.stopPropagation();var n=$(this);$.ajax({type:"POST",cache:!1,url:n.closest("form").prop("action"),data:new FormData(n.closest("form")[0]),contentType:!1,processData:!1,beforeSend:function(){n.addClass("button-loading")},success:function(e){e.error?t(e.message):(n.closest("form").find("textarea").val(""),n.closest("form").find("textarea").attr("disabled",!0),n.attr("disabled",!0),a(e.message),i($(".review-pagination").data("review-last-page")))},error:function(e){o(e)},complete:function(){"undefined"!=typeof refreshRecaptcha&&refreshRecaptcha(),n.removeClass("button-loading")}})})),$((function(){window.jobBoardMaps={};var n=$(".job-board-street-map");n.length&&n.each((function(e,t){!function(e){var t=e.data("uid");t||(t=(Math.random()+1).toString(36).substring(7)+(new Date).getTime(),e.data("uid",t)),jobBoardMaps[t]&&(jobBoardMaps[t].off(),jobBoardMaps[t].remove()),jobBoardMaps[t]=L.map(e[0],{zoomControl:!1,scrollWheelZoom:!0,dragging:!0,maxZoom:e.data("max-zoom")||20}).setView(e.data("center"),e.data("zoom")||14);var a=L.divIcon({className:"boxmarker",iconSize:L.point(50,20),html:e.data("map-icon")});L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(jobBoardMaps[t]),L.marker(e.data("center"),{icon:a}).addTo(jobBoardMaps[t]).bindPopup($(e.data("popup-id")).html()).openPopup()}($(t))})),$(document).on("click",".job-bookmark-action",(function(e){e.preventDefault();var n=$(e.currentTarget),r=$(".job-bookmark-saved");$.ajax({type:n.prop("method")||"POST",url:n.prop("href"),data:{job_id:n.data("job-id")},beforeSend:function(){n.addClass("loading")},success:function(e){if(e.error)return t(e.message),!1;a(e.message),e.data.is_saved?r.length?r.addClass("save-job-active"):n.closest(".favorite-icon").parent().addClass("save-job-active"):r.length?r.removeClass("save-job-active"):n.closest(".favorite-icon").parent().removeClass("save-job-active")},error:function(e){401===e.status?$("#signupModal").modal("show"):o(e)},complete:function(){n.removeClass("loading")}})}));var r={};r.$formSearch=$("#jobs-filter-form"),r.jobListing=".jobs-listing",r.$jobListing=$(r.jobListing),r.parseParamsSearch=function(e){for(var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e||window.location.search.substring(1),n=/([^&=]+)=?([^&]*)/g,r=/\+/g,i=function(e){return decodeURIComponent(e.replace(r," "))},s={};t=n.exec(o);){var c=i(t[1]),l=i(t[2]);"[]"==c.substring(c.length-2)?(a&&(c=c.substring(0,c.length-2)),(s[c]||(s[c]=[])).push(l)):s[c]=l}return s},r.changeInputInSearchForm=function(e){r.$formSearch.find("input, select, textarea").each((function(t,a){r.changeInputInSearchFormDetail($(a),e)})),$(":input[form=jobs-filter-form]").each((function(t,a){r.changeInputInSearchFormDetail($(a),e)}))},r.changeInputInSearchFormDetail=function(e,t){var a=t[e.attr("name")]||null;switch(e.attr("type")){case"checkbox":case"radio":e.prop("checked",!1),Array.isArray(a)?e.prop("checked",a.includes(e.val())):e.prop("checked",!!a);break;default:e.is("[name=max_price]")?e.val(a||e.data("max")):e.is("[name=min_price]")?e.val(a||e.data("min")):e.val()!=a&&e.val(a)}},r.convertFromDataToArray=function(e){var t=[];return e.forEach((function(e){if(e.value){if(["min_price","max_price"].includes(e.name))if(r.$formSearch.find("input[name="+e.name+"]").data(e.name.substring(0,3))==parseInt(e.value))return;t.push(e)}})),t},r.jobsFilter=function(){var e=null;$(document).on("submit","#jobs-filter-form",(function(a){a.preventDefault(),e&&e.abort();var n=$(a.currentTarget),i=n.serializeArray(),s=r.convertFromDataToArray(i),c=[],l=window.location,d=l.origin+l.pathname;$.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.search);return null!==t&&(t[1]||0)},$.urlParam("limit")&&s.push({name:"limit",value:parseInt($.urlParam("limit"))});var u=r.$jobListing.find("input[name=page]");u.val()&&s.push({name:"page",value:u.val()}),s.map((function(e){"offered_salary_to"===e.name&&(e.value=Number(e.value.replace(/[^0-9.-]+/g,""))),c.push(encodeURIComponent(e.name)+"="+e.value)})),c&&c.length&&(d+="?"+c.join("&")),s.push({name:"_",value:+new Date}),e=$.ajax({url:n.attr("action"),type:"GET",data:s,beforeSend:function(){$("#loading").css("display","block"),$(".job-items").css("opacity",.2)},success:function(e){var a;0==e.error?(r.$jobListing.html(e.data),null!==(a=e.additional)&&void 0!==a&&a.message&&r.$jobListing.closest(".jobs-listing-container").find(".showing-of-results").html(e.additional.message),r.executeMap(),d!==window.location.href&&window.history.pushState(s,e.message,d)):t(e.message||"Opp!")},error:function(e){"abort"!==e.statusText&&o(e)},complete:function(){setTimeout((function(){$("#loading").css("display","none"),$(".loading-ring").hide(),$(".job-items").css("opacity",1)}),500)}})})),window.addEventListener("popstate",(function(){window.location.reload()}),!1),$(document).on("click",r.jobListing+" .pagination a",(function(e){e.preventDefault();var t=$(e.currentTarget).attr("href");t.includes(window.location.protocol)||(t=window.location.protocol+t);var a=new URL(t).searchParams.get("page");r.$jobListing.find("input[name=page]").val(a),r.$formSearch.trigger("submit")}))},r.jobsFilter(),$("body").on("change, click",".submit-form-filter",(function(e){r.$formSearch.find('input[name="page"]').val(1),s(e)})),String.prototype.interpolate=function(t){var a=Object.keys(t),o=Object.values(t);return e(Function,a.concat(["return `".concat(this,"`;")])).apply(void 0,o)};var i=$("#traffic-popup-map-template").html();r.initMaps=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.length)return!1;var a=e.data("center")||[],o=$(".jobs-listing .job-box[data-latitude][data-longitude]"),n=o.filter((function(){return $(this).data("latitude")&&$(this).data("longitude")}));n&&n.length&&(a=[n.data("latitude"),n.data("longitude")]);var r,s=e.data("uid");s||(s=(Math.random()+1).toString(36).substring(7)+(new Date).getTime(),e.data("uid",s)),window.jobBoardMaps&&window.jobBoardMaps[s]&&(t?(window.jobBoardMaps[s].off(),window.jobBoardMaps[s].remove()):(r=window.jobBoardMaps[s]).eachLayer((function(e){e.remove()})));var c=[];if(o.map((function(e,t){var a=$(t);c.push(a.data())})),!r){var l=e.data("zoom")||14;c.length||(l=e.data("zoom-empty")||12),r=L.map(e[0],{zoomControl:!0,scrollWheelZoom:!0,dragging:!0,maxZoom:18}).setView(a,l)}L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(r);var d=new L.MarkerClusterGroup,u=[];c.forEach((function(e){if(e.latitude&&e.longitude){var t=L.divIcon({className:"boxmarker",iconSize:L.point(50,20),html:e.map_icon}),a=i.interpolate({item:e}),o=new L.Marker(new L.LatLng(e.latitude,e.longitude),{icon:t}).bindPopup(a).addTo(r);u.push(o),d.addLayer(o),r.flyToBounds(L.latLngBounds(u.map((function(e){return e.getLatLng()}))))}})),r.addLayer(d),e.addClass("active"),window.jobBoardMaps[s]=r},$(".jobs-list-sidebar").length&&($(".jobs-list-sidebar").is(":visible")&&r.initMaps($(".jobs-list-sidebar").find(".jobs-list-map")),$(window).on("resize",(function(){$(".jobs-list-sidebar").is(":visible")&&r.initMaps($(".jobs-list-sidebar").find(".jobs-list-map"))}))),r.setCookie=function(e,t,a){var o=new Date,n=window.siteUrl;n.includes(window.location.protocol)||(n=window.location.protocol+n);var r=new URL(n);o.setTime(o.getTime()+24*a*60*60*1e3);var i="expires="+o.toUTCString();document.cookie=e+"="+t+"; "+i+"; path=/; domain="+r.hostname},r.executeMap=function(){var e=$(".jobs-list-sidebar").find(".jobs-list-map");e.length&&(r.initMaps(e),r.setCookie("show_map_on_jobs_page",1,60))},$("#offcanvas-jobs-map").on("show.bs.offcanvas",(function(e){$('[data-bs-target="#offcanvas-jobs-map"]').addClass("active");var t=$(e.currentTarget).find(".jobs-list-map");t.hasClass("active")||r.initMaps(t)})).on("hide.bs.offcanvas",(function(){$('[data-bs-target="#offcanvas-jobs-map"]').removeClass("active")}))})),$(document).on("click",".review-pagination a",(function(e){e.preventDefault(),i($(this).attr("href").split("page=")[1])})),$(document).on("click",".layout-job",(function(e){e.preventDefault(),$("#jobs-filter-form > input[name=layout]").val($(this).data("layout")),$("#jobs-filter-form").submit()})),$(document).on("click",".per-page-item",(function(e){e.preventDefault(),$("#jobs-filter-form input[name=per_page]").val($(this).data("perPage")),$("#jobs-filter-form").submit()})),$(document).on("click",".dropdown-sort-by",(function(e){e.preventDefault(),$("#jobs-filter-form input[name=sort_by]").val($(this).data("sortBy")),$("#jobs-filter-form").submit()})),$(document).on("click",".pagination-button",(function(e){e.preventDefault(),$("#jobs-filter-form input[name=page]").val($(this).data("page")),$("#jobs-filter-form").submit(),$("#form-page-categories input[name=page]").val($(this).data("page")),$("#form-page-categories").submit()})),$(document).ready((function(){$("#selectCity").on("change",(function(e){s(e)})),$(".noUi-handle").on("click",(function(){$(this).width(50)}));var e=$("#slider-range");e.length>0&&e[0].noUiSlider.on("change",(function(e,t,a){setTimeout((function(){s(a,$("#minValueMoney"))}),1e3)}))}));var s=function(e){var t="";(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)?t=$("#minValueMoney"):e&&(t=$(e.currentTarget));var a=t.closest("form");!a.length&&t.prop("form")&&(a=$(t.prop("form"))),a.length&&a.trigger("submit")},c=$("#ModalApplyJobForm");c.on("show.bs.modal",(function(e){var t=$(e.relatedTarget),a=t.data("job-name"),o=t.data("job-id");c.find(".modal-job-name").text(a),c.find(".modal-job-id").val(o)})),c.on("hide.bs.modal",(function(){c.find(".modal-job-name").text(""),c.find(".modal-job-id").val("")}));var l=$("#ModalApplyExternalJobForm");l.on("show.bs.modal",(function(e){var t=$(e.relatedTarget),a=t.data("job-name"),o=t.data("job-id");l.find(".modal-job-name").text(a),l.find(".modal-job-id").val(o)})),l.on("hide.bs.modal",(function(){l.find(".modal-job-name").text(""),l.find(".modal-job-id").val("")})),$(document).on("submit",".job-apply-form",(function(e){e.preventDefault();var o=$(e.currentTarget),n=o.find("button[type=submit]");$.ajax({type:"POST",cache:!1,url:o.prop("action"),data:new FormData(o[0]),contentType:!1,processData:!1,beforeSend:function(){n.prop("disabled",!0).addClass("button-loading")},success:function(e){e.error?t(e.message):(a(e.message),setTimeout((function(){e.data&&e.data.url?window.location.replace(e.data.url):window.location.reload()}),1e3))},error:function(e){t(e.responseJSON.message)},complete:function(){"undefined"!=typeof refreshRecaptcha&&refreshRecaptcha(),n.prop("disabled",!1).removeClass("button-loading")}})})),$(".job-of-the-day").on("click",".category-item",(function(e){e.preventDefault();var t=$(this).data("url"),a=$(this);$.ajax({url:t,type:"GET",data:{style:$(this).data("style")},dataType:"json",beforeSend:function(){r.show()},success:function(e){e.error||($(".job-of-the-day .category-item").removeClass("active"),a.addClass("active"),$(".job-of-the-day-list").html(e.data))},error:function(e){"abort"!==e.statusText&&o(e)},complete:function(){setTimeout((function(){$(".loading-ring").hide()}),500)}})}));var d=$(".company-detail-job-list .rating");d.length&&d.barrating({theme:"css-stars"}),jQuery().mCustomScrollbar&&$(".ps-custom-scrollbar").mCustomScrollbar({theme:"dark",scrollInertia:0})}))})();